<table class='tblFooterMenu'>
    <tr>
        <td><button class='imgButtonBig' id='btnHome'>Accueil</button></td>
        <td><button class='imgButtonBig User' id='btnToggleEx'>Utilisateur</button></td>
        <td><button class='imgButtonBig' id='btnCreateEx'>Créer</button></td>
    </tr>
</table>
<script>
    $('#btnHome').click(() => {
       pageManager.renderPage("homePage");
       pageManager.renderFooter("footerMenu");
    });
    $('#btnToggleEx').data("type","user");
    $('#btnToggleEx').click(() => {
        let type = $('#btnToggleEx').data("type");
        if (type=='user') {
           dataManager.getDataFromStorage('customExerc').done((results) => {
               if (results && results.length>0)
                    exoPage.showExercices(results);
               else 
                    exoPage.showExercices([]);
               $('#btnToggleEx').data("type","all");
               $('#btnToggleEx').text('Tous');
           });   
        }
        if (type=='all') {
           dataManager.getExercices().done((results) => {
               if (results && results.length>0)
                    exoPage.showExercices(results);
               else 
                    exoPage.showExercices([]);
                $('#btnToggleEx').data("type","user");
                $('#btnToggleEx').text('Utilisateur');
           });   
        }
        $('#btnToggleEx').toggleClass(['User','All']);
    });
    $('#btnCreateEx').click(() => {
        popinManager.load('OKCancel').done(() => {
            pageManager.renderElement('exo/popinCreateExerc', null, 'tdPopinContent').done(() => {
                // add values to select
                var get1 = dataManager.getCategories();
                var get2 = dataManager.getDifficultes();
                var get3 = dataManager.getZones();
                $.when(get1, get2, get3).done((data1, data2, data3) => {
                    $(data1).each(function() {
                        $("#selCateg").append("<option value='" + this.id + "'>" + this.nom + "</option>");
                    });
                    $(data2).each(function() {
                        $("#selDiff").append("<option value='" + this.id + "'>" + this.nom + "</option>");
                    });
                    $(data3).each(function() {
                        $("#selZone").append("<option value='" + this.id + "'>" + this.nom + "</option>");
                    });
                    $("#selUnit").append("<option value='rep'>Répétitions</option>");
                    $("#selUnit").append("<option value='sec'>Secondes</option>");
                });
                // display popin
                popinManager.setCallbackFunction("exoPage.validateCreatePopin()");
                popinManager.show();
            });
        });
    });
</script>